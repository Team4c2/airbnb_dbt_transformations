version: 2

models:
  - name: calendar_fact
    description: "fact model for guest data"
    columns:
      - name: SURROGATE_KEY
        tests:
          - unique
          - not_null
      - name: PROPERTY_KEY
        tests:
          - relationships:
              to: ref('property_dim')
              field: PROPERTY_KEY
      - name: CALENDAR_DATE_KEY
        tests:
          - relationships:
              to: ref('calendar_date_dim')
              field: CALENDAR_DATE_KEY

  -  name: listing_fact
     description: "fact model for listing data"
     columns:
      - name: SURROGATE_KEY
        tests:
          - unique
          - not_null
      - name: PROPERTY_KEY
        tests:
          - relationships:
              to: ref('property_dim')
              field: PROPERTY_KEY
      - name: HOST_KEY
        tests:
          - relationships:
              to: ref('host_dim')
              field: HOST_KEY
    
  -  name: review_fact
     description: "fact model for listing data"
     columns:
      - name: SURROGATE_KEY
        tests:
          - unique
          - not_null
      - name: PROPERTY_KEY
        tests:
          - relationships:
              to: ref('property_dim')
              field: PROPERTY_KEY
      - name: GUEST_KEY
        tests:
          - relationships:
              to: ref('guest_dim')
              field: GUEST_KEY
      - name: REVIEW_DATE_KEY
        tests:
          - relationships:
              to: ref('review_date_dim')
              field: REVIEW_DATE_KEY
    
      